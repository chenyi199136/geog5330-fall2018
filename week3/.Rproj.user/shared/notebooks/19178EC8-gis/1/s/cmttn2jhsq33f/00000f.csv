"0","bears <- read.csv(""Data/bear-sightings.csv"")
coordinates(bears) <- c(""longitude"", ""latitude"")
# read in National Parks polygons
parks <- readOGR(""Data"", ""10m_us_parks_area"")
"
"1","OGR data source with driver:"
"1"," "
"1","ESRI Shapefile"
"1"," "
"1","
"
"1","Source: """
"1","Data"
"1",""", layer: """
"1","10m_us_parks_area"
"1",""""
"1","
"
"1","with"
"1"," "
"1","61"
"1"," "
"1","features"
"1","
"
"1","It has"
"1"," "
"1","8"
"1"," "
"1","fields"
"1","
"
"0","# tell R that bear coordinates are in the same lat/lon reference system as the parks data "
"0","proj4string(bears) <- proj4string(parks)"
"0","# combine is.na() with over() to do the containment test; note that we"
"0","# need to ""demote"" parks to a SpatialPolygons object first"
"0","inside.park <- !is.na(over(bears, as(parks, ""SpatialPolygons"")))"
"0","# calculate what fraction of sightings were inside a park"
"0","mean(inside.park)"
"1","[1]"
"1"," 0.1720648"
"1","
"
"0","## [1] 0.1720648"
"0","# determine which park contains each sighting and store the park name as an attribute of the bears data"
"0","bears$park <- over(bears, parks)$Unit_Name"
"0","# draw a map big enough to encompass all points, then add in park boundaries superimposed upon a map of the United States"
"0","plot(bears)"
